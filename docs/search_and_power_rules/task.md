# タスクリスト: 高度なカード効果とアクティブスキルの実装

- [x] カード効果パースの強化 (`populate_effects.ts`)
  - [x] アクティブスキルの検知 (`【起】`, `[メイン]`)
  - [x] パワー/ヒット修正のパース向上
  - [x] 条件付き効果のパース (自分のターン中、相手の手札枚数など)
  - [x] ターゲットの拡張 (`OPPOSING`, `ALL_ENEMIES`)
- [x] サーバー側ロジックの改善 (`Game.ts`)
  - [x] `useActiveAbility` の実装と修正 (SBAチェック、ログ追加)
  - [x] アイテムによるステータス上昇の動的計算 (アタッチメント対応)
  - [x] 新規アクションの処理 (`DISCARD`, `SET_HIT`, `STUN_UNIT` など)
  - [x] 対向ユニット (`OPPOSING`) への効果適用
- [x] クライアント側UIの対応
  - [x] アクティブスキルボタンの表示条件と呼び出し (`Card.tsx`)
  - [x] アクティブスキル発動イベントの送信 (`GameBoard.tsx`)
  - [x] 選択モーダルの「手札破棄」対応 (`SelectionModal.tsx`)
- [x] 動作確認とデバッグ

- [x] 動作確認とデバッグ

## ディフェンダー・ガーディアン能力の実装

- [x] `populate_effects.ts` でのキーワード抽出（数値対応）
- [x] `Game.ts`: 「ディフェンダー」による防御時パワー上昇の実装
- [x] `Game.ts`: 「ガーディアン（防壁）」による攻撃遮りロジックの実装
- [x] `Game.ts`: ガーディアン発動時の手札コスト処理
- [x] クライアントUI: ガーディアン発動選択のUI表示
- [x] 動作確認
