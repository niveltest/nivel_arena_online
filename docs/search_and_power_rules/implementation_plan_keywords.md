# キーワード能力（貫通・略奪）の動的処理の実装計画

「貫通」や「略奪」などのキーワード能力において、固定値ではなくテキスト内の数値（略奪[1]、略奪[2]など）を動的に処理できるようにします。

## 変更内容

### 1. 効果パーススクリプトの強化 (`populate_effects.ts`)

- カードテキストから `貫通[n]` および `略奪[n]` を検出し、`keywords` 配列に `PENETRATION_n` および `LOOT_n` 形式で追加します。
- 既存の `keywords` 配列のクリーニング（カンマ区切りの分割など）も行います。

### 2. サーバー側ゲームロジックの改善 (`Game.ts`)

#### `hasKeyword` ヘルパーの更新

- 指定されたキーワード（例: `LOOT`）で始まる要素が `keywords` 配列にあるかを確認できるようにします。
- `hasKeyword(card, 'LOOT')` は `LOOT_1` や `LOOT_2` があれば true を返すようにします。

#### `getKeywordValue` ヘルパーの追加

- `LOOT_2` から `2` を抽出するようなヘルパーを追加します。

#### 戦闘解決ロジック (`attack` メソッド) の更新

- ハードコードされていた貫通・略奪の処理を、`getKeywordValue` を使用して動的に行うように変更します。
  - 貫通: `PENETRATION_n` の `n` 分のリーダーダメージ。
  - 略奪: `LOOT_n` の `n` 枚ドロー。

## 検証計画

### 自動テスト

- `populate_effects.ts` を実行し、`cards.json` 内で `PENETRATION_1` や `LOOT_1` などのキーワードが正しく設定されているか確認します。

### 手動検証

- ログ出力を確認し、略奪[2]を持つユニットが破壊時に正しく2枚ドローするか、貫通[1]が1ダメージ与えるかを確認します。
