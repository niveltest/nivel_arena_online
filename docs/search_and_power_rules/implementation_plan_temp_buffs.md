# 一時的なパワーバフ（ターン終了時リセット）の実装計画

「エントリー」効果などによるパワー上昇を、ターン終了時に正しくリセットされるように修正します。

## 変更内容

### 1. データ構造の拡張 (`shared/types.ts`)

- `Card` インターフェースに `tempPowerBuff` プロパティを追加します。

### 2. サーバー側ゲームロジックの改善 (`Game.ts`)

#### `applyEffect` の修正

- `BUFF_ALLY` アクションの処理において、`unit.power` を直接書き換えるのではなく、`unit.tempPowerBuff` を加算するように変更します。

#### `getUnitPower` の修正

- パワー計算ロジックに `tempPowerBuff` を反映させます。
  `totalPower += (unit.tempPowerBuff || 0);`

#### `switchTurn` の修正

- ターン交代時のリセット処理に `u.tempPowerBuff = 0;` を追加します。

## 検証計画

### 手動検証

- エントリー時にパワーが上昇するユニットをプレイし、そのターン中はパワーが上がっていること、次の自分のターン（または相手のターン開始時）には元のパワーに戻っていることを確認します。
