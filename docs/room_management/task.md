# タスクリスト: ルーム管理強化 (Room Management)

## 1. サーバーサイド実装 (Backend)

- [x] `Game` クラスの拡張 <!-- id: 1 -->
  - [x] `password` プロパティの追加 <!-- id: 2 -->
  - [x] `spectators` リストの追加 (観戦者管理) <!-- id: 3 -->
- [x] `server/index.ts` のイベントハンドラ更新 <!-- id: 4 -->
  - [x] `createGame`: パスワード引数の受け取りと設定 <!-- id: 5 -->
  - [x] `joinGame`: パスワード検証ロジック、観戦者参加ロジックの追加 <!-- id: 6 -->
  - [x] `spectatorJoined` イベントの発行 <!-- id: 7 -->

## 2. フロントエンド実装 (Frontend)

- [x] `components/Lobby.tsx` の UI/UX 更新 <!-- id: 8 -->
  - [x] ルーム作成モーダルに「パスワード」「自分は観戦者として参加」オプション追加 <!-- id: 9 -->
  - [x] ルームリスト表示機能 (Optional: WebSocketでルーム一覧を取得する仕組みが必要だが、今回はID手動入力形式のままで拡張するか検討) <!-- id: 10 -->
  - [x] ルーム参加時の「パスワード入力」と「観戦モード」トグル <!-- id: 11 -->
- [x] `components/GameBoard.tsx` の観戦モード対応 <!-- id: 12 -->
  - [x] `isSpectator` フラグによる操作ブロック (カードクリック無効化など) <!-- id: 13 -->
  - [x] 両プレイヤーの手札公開 (観戦者には両方見えるようにする) <!-- id: 14 -->

## 3. 動作検証

- [x] パスワード間違いでの弾かれチェック <!-- id: 15 -->
- [x] 観戦者がゲームに影響を与えられないことの確認 <!-- id: 16 -->
- [x] 観戦者視点でのゲーム進行同期チェック <!-- id: 17 -->
