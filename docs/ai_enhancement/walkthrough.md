# ウォークスルー: AI (CPU) の戦略的強化

## 概要

CPUプレイヤーの意思決定ロジックを大幅に刷新し、より合理的かつ戦略的なプレイを可能にしました。単なる「出せるカードを出す」状態から、盤面の脅威度やカードのシナジーを考慮するレベルへと向上しています。

## 主な改善点

### 1. 戦略的な攻撃順序とターゲット選定

- **攻撃順序の最適化**: 攻撃時にバフを与えるユニットを優先的に先に動かすようになりました。
- **キーワード活用**: `略奪 (LOOT)` や `貫通 (PENETRATION)` を持つユニットが、効果を誘発できる（破壊可能な）相手を優先的に狙うようスコアリングを強化しました。
- **無駄な自爆の回避**: 勝てない相手への無意味な攻撃を控え、リーダー（顔面）への攻撃を優先する判断ロジックを追加しました。

### 2. 高度な防御・身代わり判断

- **戦略的インターセプト**: 自分にとって価値の高いユニット（システムクリーチャー等）やリーダーを守るために、低コストなユニットを身代わり（ガード）にする判断ができるようになりました。
- **価値ベースのブロック**: 相手の脅威度と自分のユニットの犠牲価値を比較し、相打ちすべきか、あえて受けるべきかを判断します。

### 3. リソースとスキルの管理

- **出し惜しみと温存**: HPが満タンの時に回復スキルを使わない、無意味なタイミングでカードを引かない等の「スキルの有用性チェック」を導入しました。
- **効率的な展開**: `BUFF_SIZE` による上限を考慮し、コストパフォーマンスの高いユニットから優先的に展開します。

## 検証結果 (`unitTestAIStrategic.ts`)

以下のシナリオでAIが意図通りに動作することを確認しました：

- **攻撃**: 攻撃力は低いが `略奪` を持つユニットが、高火力ユニットを差し置いて弱った敵を先に倒しに行く挙動。
- **防御**: 強力な「ロード」ユニットへの攻撃に対し、低コストの「ガード」ユニットが身代わりに入る挙動。
- **スキル**: ダメージを受けていない時は回復スキルを使用せず、ダメージ後に使用する挙動。
