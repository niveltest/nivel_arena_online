# 実施計画: AI (CPU) の戦略的強化

## 目的

CPUプレイヤーの判断能力を向上させ、より実戦に近く、戦略的な挙動を可能にします。

## 主な変更内容

### 1. 攻撃ロジックの高度化 (`AIPlayer.ts`)

- **攻撃順序の最適化**: バフを与えるユニットや、攻撃時に効果を発揮するユニットを先に攻撃させます。
- **キーワード活用**: `略奪 (LOOT)` や `貫通 (PENETRATION)` を持つユニットが、効果を最大限に発揮できる（＝勝てる）相手を優先的に狙うようにします。
- **無意味な攻撃の回避**: すでに破壊が確定しているユニットに対して、過剰な攻撃を行わないようにします。

### 2. 防御判断の改善

- **トークン/低価値ユニットの身代わり**: HPが致命的(3)になる前でも、守る価値のあるユニットやリーダーのために、低価値なユニットを積極的にガード（身代わり）に立たせます。
- **キーワードへの対抗**: 相手の `突破 (BREAKTHROUGH)` や `無敵 (INVINCIBLE)` を考慮したガード判断を行います。

### 3. カードプレイ・リソース管理の改善

- **効率的な展開**: `BUFF_SIZE` を最大限に活かし、現在のコスト上限ギリギリまで効率よく展開するロジック（ナップサック問題的な近似）を導入します。
- **アイテム装着の最適化**: 攻撃回数が多いユニットや、特定のキーワードを持つユニットにバフアイテムを優先的に装着します。
- **スキルの温存**: 回復スキルをHP満タン時に使わない、などの基本的な温存ロジックを強化します。

## 検証計画

### 自動テスト

- `unitTestAI.ts` を拡張し、特定の盤面（例：リーサルがあるがガードがいる、低コストユニットを犠牲にすべき盤面）でAIが正しい選択をするか確認します。

### 手動検証

- 実際にCPU対戦を行い、不自然な挙動（スキルの無駄撃ち、非効率なアイテム装備）がないか目視で確認します。
