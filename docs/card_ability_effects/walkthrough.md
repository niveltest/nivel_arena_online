# カード能力（Effect）の実装完了報告

カードの能力（パッシブ、トリガー、キーワード）を大幅に強化し、ゲームとして機能するようにしました。

## 修正内容の要約

### 1. キーワードエンジンの刷新

- `hasKeyword` を導入し、カードデータ内の ID だけでなく、日本語のテキスト記述からもキーワード（貫通、突破、略奪など）を正確に判定できるようになりました。
- 一時的なキーワード付与（レッドフードの「エントリー」効果など）に対応しました。

### 2. 戦闘ロジックの高度化

- **貫通 (Penetration)**: 相手ユニットを破壊した際、リーダーにもダメージを与えます。
- **略奪 (Loot)**: 相手ユニットを破壊した際、1枚ドローします。
- **突破 (Breakthrough)**: 特定のコスト以上のユニットによるブロックを制限します。
- **道連れ (Death Touch)**: 自身が破壊された際、相打ちを狙います。
- **潜入 (Infiltrate)**: ブロックされなかった際、リーダーへのダメージが増加します。

### 3. カード選択UIの統合

以下の効果を発動した際、プレイヤーが対象を直接選べるようになりました：

- 相手ユニットの破壊 (Kill Unit)
- 相手ユニットの弱体化 (Debuff)
- デッキ/トラッシュからのカード回収 (Search)
- 手札の上限を超えた際のディスカード (Discard)

### 4. 状態異常と一時効果

- **Dorothy (ドロシー)**: 相手ユニットに「攻撃不可」の状態を付与する効果を実装。
- **ターン終了処理**: ターンが終わるごとに、一時的なパワー増減や付与されたキーワードがリセットされます。

## 検証結果

- [x] 貫通・略奪・突破の各キーワードが戦闘解決時に正しくログに出力され、結果に反映されることを確認。
- [x] 選択モーダルが表示され、選んだカードやユニットに対してエフェクトが適用されることを確認。
- [x] パッシブ効果（リーダーがレベル4以上で味方全体パワー+1000など）が計算に動的に反映されることを確認。
