# 未実装カードの実装計画

## 目標

カードプールを拡充し、各属性（炎、大地、稲妻、嵐、波濤）でデッキ構築が可能になるようにする。
また、新カードに伴う特殊能力（無敵、特定コスト貫通など）をサーバーロジックに実装する。

## 実装内容

### 1. `server/data/cards.json` の更新

- **リーダーカード**: 紅蓮(大地), クラウン(稲妻), プリバティ(嵐)
- **量産型ニケ (ニュートラル)**: カード枚数不足を補うための低コストユニット群
- **高レアリティユニット**:
  - モダニア (炎 / ダメージ効果)
  - スノーホワイト (稲妻 / 貫通[コスト5+])
  - ラプンツェル (稲妻 / 回収効果)
  - アリス (大地 / 自ターンバフ)
  - ノア (嵐 / 無敵)

### 2. `server/Game.ts` のロジック拡張

- **INVINCIBLE (無敵)**
  - `destroyUnit` 関数内で `keywords.includes('INVINCIBLE')` をチェックし、破壊をキャンセルする。
- **BREAKTHROUGH_COST5 (貫通)**
  - `resolveDefense` 関数内でブロック成立時に、攻撃者が `BREAKTHROUGH_COST5` を持ち、防御者がコスト5以上の場合、ブロックを無効化する。
- **PASSIVE (条件付きバフ)**
  - `getUnitPower` 関数内で `condition: 'MY_TURN'` をチェックし、現在のターンプレイヤーと一致する場合のみバフを適用する。

## 検証計画

- **自動テスト (`server/testData/unitTestNewCards.ts`)**
  - 実際の `Game` クラスとモック `Player` を使用して、以下のシナリオをプログラムで検証する。
        1. ノアを破壊しようとしても破壊されないこと。
        2. スノーホワイトの攻撃をコスト5以上のユニットでブロックしようとすると失敗すること。
        3. アリスの攻撃力が自分のターンと相手のターンで変化すること。
